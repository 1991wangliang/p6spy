<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2013-10-26 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>P6Spy - </title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20131026" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                P6Spy
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                  <div class="xright">        
                    
                 <span id="publishDate">Last Published: 2013-10-26</span>
              &nbsp;| <span id="projectVersion">Version: 2.0-alpha-2-SNAPSHOT</span>
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                <h5>User's Guide</h5>
                  <ul>
                                                                                                                                                              <li class="collapsed">
                          <a href="../1.3/install.html" title="1.3">1.3</a>
                  </li>
                                                                                                                                                                                          <li class="expanded">
                          <a href="../2.0/install.html" title="2.0">2.0</a>
                    <ul>
                      <li class="none">
                          <a href="../2.0/install.html" title="Installation">Installation</a>
            </li>
                      <li class="none">
            <strong>Integration</strong>
          </li>
                      <li class="none">
                          <a href="../2.0/configandusage.html" title="Configuration and Usage">Configuration and Usage</a>
            </li>
                      <li class="none">
                          <a href="../2.0/releasenotes.html" title="Release Notes">Release Notes</a>
            </li>
                      <li class="none">
                          <a href="../2.0/knownissues.html" title="Known Issues">Known Issues</a>
            </li>
                      <li class="none">
                          <a href="../2.0/faq.html" title="FAQ">FAQ</a>
            </li>
                      <li class="none">
                          <a href="../2.0/troubleshooting.html" title="Troubleshooting">Troubleshooting</a>
            </li>
              </ul>
        </li>
          </ul>
                       <h5>Other</h5>
                  <ul>
                  <li class="none">
                          <a href="../thanks.html" title="Thanks">Thanks</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/p6spy/p6spy/wiki/Download" class="externalLink" title="Download">Download</a>
            </li>
          </ul>
                       <h5>Modules</h5>
                  <ul>
                  <li class="none">
                          <a href="../p6spy/index.html" title="P6Spy">P6Spy</a>
            </li>
                  <li class="none">
                          <a href="../p6spy-webcontrol/index.html" title="P6Spy WebControl">P6Spy WebControl</a>
            </li>
                  <li class="none">
                          <a href="../p6spy-dist/index.html" title="P6Spy Distribution">P6Spy Distribution</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                <li class="collapsed">
                          <a href="../project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                        <li class="collapsed">
                          <a href="../project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <h1>Integrating P6Spy</h1>
<p>A very typical use case for P6Spy is to enabled SQL logging to troubleshoot various database related issues during development. Assuming that making code changes is acceptable, then the following instructions can be used. If  making code changes is not a viable option, then following the instructions for <a href="install.html">Installing P6Spy</a>.</p>

<ol style="list-style-type: decimal">
  
<li>
<p>Add p6spy.jar to the classpath. If your application uses Maven, Ivy, Gradle, etc just add a dependency on  p6spy:p6spy.</p></li>
  
<li>
<p>Wrap your DataSource with P6DataSource or modify your connection URL to add &#x2018;p6spy:&#x2019;.</p></li>
</ol>
<p>If your application uses a DataSource, simply wrap your current DataSource object with P6DataSource. P6DataSource has a constructor method that accepts the DataSource to wrap. This is by far the simplest method especially if you use a dependency injection framework such as Spring or Guice. </p>
<p>If your application obtains connections from DriverManager, simply modify your JDBC connection URL to include &#x2018;p6spy:&#x2019;. For example, if your URL is <tt>jdbc:mysql://host/db</tt> then just change it to <tt>jdbc:p6spy:mysql://host/db</tt>. P6Spy implements the JDBC 4.0 API allowing automatic registration of our JDBC driver with DriverManager. As long as your application obtains connections through DriverManager, you only need to modify your database connection URL to activate P6Spy.</p>
<p>By default, a file called spy.log will be created in the current working directory. To customize the logging (including using your application&#x2019;s logging framework) you can provide alternate configuration in a file called spy.properties. This file just needs to be at the root of the classpath. See <a href="configandusage.html">Configuration and Usage</a> for details.</p>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2013.
          All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
